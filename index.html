<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å‰µä½œç”¨ åå‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  
  <style>
    body {
      font-family: sans-serif;
      background: #f7f7ff;
      display: flex;
      justify-content: center;
    }

    .container {
      margin-top: 40px;
      text-align: center;
    }

    h1 {
      color: #ff6fae;
    }

    .puni {
      background: #ffd6e8;
      border: none;
      border-radius: 20px;
      padding: 8px 14px;
      cursor: pointer;
      box-shadow: 0 6px 0 #e9a8c6;
      transition: all 0.1s ease;
      font-weight: bold;
      margin: 5px;
    }

    .puni:active {
      transform: translateY(4px);
      box-shadow: 0 2px 0 #e9a8c6;
    }


    details {
      margin-top: 10px;
      background: white;
      padding: 10px;
      border-radius: 10px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 6px 0;
    }

    #result {
      margin-top: 20px;
      padding: 12px 20px;
      background: #ffffff;
      border-radius: 16px;
      font-size: 24px;
      font-weight: bold;
      color: #ff6fae;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: inline-block;
      min-width: 200px;
    }
    .delete {
  margin-left: 10px;
  background: #eee;
  border: none;
  border-radius: 8px;
  padding: 4px 8px;
  font-size: 12px;
  cursor: pointer;
}

.delete:hover {
  background: #ffb3c7;
}


  </style>
</head>

<body>
<div class="container">

  <h1>ğŸ² å‰µä½œç”¨ åå‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>

  <h2>è‹—å­—ç™»éŒ²</h2>
  <input id="myojiInput" placeholder="è‹—å­—">
  <button class="puni" onclick="addMyoji()">è¿½åŠ </button>

  <details>
    <summary>è‹—å­—ä¸€è¦§</summary>
    <ul id="myojiList"></ul>
  </details>

  <h2>åå‰ç™»éŒ²</h2>
  <input id="namaeInput" placeholder="åå‰">
  <button class="puni" onclick="addNamae()">è¿½åŠ </button>

  <details>
    <summary>åå‰ä¸€è¦§</summary>
    <ul id="namaeList"></ul>
  </details>

  <hr>

  <button class="puni" onclick="generateName()">ç”Ÿæˆï¼</button>
  <div id="result">---</div><br>
  <button class="puni" onclick="addFavorite()">â­ ãŠæ°—ã«å…¥ã‚Š</button>

  <details open>
    <summary>ğŸ’– ãŠæ°—ã«å…¥ã‚Šä¸€è¦§</summary>
    <ul id="favoriteList"></ul>
  </details>

</div>

<script>
  let myoji = [];
  let namae = [];
  let favorites = [];

  function saveData() {
    localStorage.setItem("myoji", JSON.stringify(myoji));
    localStorage.setItem("namae", JSON.stringify(namae));
    localStorage.setItem("favorites", JSON.stringify(favorites));
  }

  window.onload = () => {
    myoji = JSON.parse(localStorage.getItem("myoji") || "[]");
    namae = JSON.parse(localStorage.getItem("namae") || "[]");
    favorites = JSON.parse(localStorage.getItem("favorites") || "[]");
    render();
  };

  function addMyoji() {
    const i = myojiInput.value;
    if (!i) return;
    myoji.push(i);
    myojiInput.value = "";
    saveData();
    render();
  }

  function addNamae() {
    const i = namaeInput.value;
    if (!i) return;
    namae.push(i);
    namaeInput.value = "";
    saveData();
    render();
  }

  function generateName() {
    if (!myoji.length || !namae.length) {
      result.textContent = "ç™»éŒ²ã—ã¦ã­ï¼";
      return;
    }
    const m = myoji[Math.floor(Math.random() * myoji.length)];
    const n = namae[Math.floor(Math.random() * namae.length)];
    result.textContent = m + " " + n;
  }
  

  function addFavorite() {
    const name = result.textContent;
    if (name === "---" || favorites.includes(name)) return;
    favorites.push(name);
    saveData();
    render();
  }

  function deleteFavorite(i) {
    favorites.splice(i, 1);
    saveData();
    render();
  }
function deleteMyoji(i) {
  myoji.splice(i, 1);
  saveData();
  render();
}

function deleteNamae(i) {
  namae.splice(i, 1);
  saveData();
  render();
}


  function render() {
    myojiList.innerHTML = "";
    namaeList.innerHTML = "";
    favoriteList.innerHTML = "";

  myoji.forEach((m, i) => {
  myojiList.innerHTML +=
    `<li>${m} <button class="delete" onclick="deleteMyoji(${i})">å‰Šé™¤</button></li>`;
});

namae.forEach((n, i) => {
  namaeList.innerHTML +=
    `<li>${n} <button class="delete" onclick="deleteNamae(${i})">å‰Šé™¤</button></li>`;
});


    favorites.forEach((f, i) => {
      favoriteList.innerHTML +=
        `<li>${f} <button onclick="deleteFavorite(${i})">å‰Šé™¤</button></li>`;
    });
  }

  myojiInput.addEventListener("keydown", e => {
    if (e.key === "Enter") addMyoji();
  });

  namaeInput.addEventListener("keydown", e => {
    if (e.key === "Enter") addNamae();
  });
</script>


</body>
</html>

